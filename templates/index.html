<!DOCTYPE html>
<!-- saved from url=(0066)http://twitter.github.com/bootstrap/examples/starter-template.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title>TODO</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<!-- Le styles -->
	<link href="/static/css/bootstrap.css" rel="stylesheet">
	<link href="/static/css/todostaltz.css" rel="stylesheet">
	<link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

	<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
</head>

<body>
	<div class="container" style="margin-top:10px">
    {# ------------- TABS -------------- #}
    <ul class="nav nav-tabs">
      <li{% if activetab == 'receipts' %} class="active"{% endif %}>
        <a href="#receiptscontainer" data-toggle="tab">Finance</a>
      </li>
	    <li{% if activetab == 'tobuy' %} class="active"{% endif %}>
	      <a href="#tobuycontainer" data-toggle="tab">Shopping</a>
	    </li>
	    <li{% if activetab == 'todo' %} class="active"{% endif %}>
	      <a href="#todocontainer" data-toggle="tab">Tasks</a>
	    </li>
    </ul>

    <div class="tab-content" style="padding-bottom:100px">

      {# ------------- Receipts -------------- #}
      <div class="tab-pane{% if activetab == 'receipts' %} active{% endif %}" id="receiptscontainer">
        <form action="/insertReceipt" method="POST">
          <div class="input-append input-prepend">
            <input id="finance-input" size="18" placeholder="0.00" name="receiptmoney" type="text">
            <span id="euro-label" class="add-on">â‚¬</span>
          </div>
	        <table id="dialer">
		        <tr>
			        <td id="dial1"><a class="btn" href="#">1</a></td>
			        <td id="dial2"><a class="btn" href="#">2</a></td>
			        <td id="dial3"><a class="btn" href="#">3</a></td>
		        </tr>
		        <tr>
			        <td id="dial4"><a class="btn" href="#">4</a></td>
			        <td id="dial5"><a class="btn" href="#">5</a></td>
			        <td id="dial6"><a class="btn" href="#">6</a></td>
		        </tr>
		        <tr>
			        <td id="dial7"><a class="btn" href="#">7</a></td>
			        <td id="dial8"><a class="btn" href="#">8</a></td>
			        <td id="dial9"><a class="btn" href="#">9</a></td>
		        </tr>
		        <tr>
			        <td id="dialdot"><a class="btn" href="#">.</a></td>
			        <td id="dial0"><a class="btn" href="#">0</a></td>
			        <td id="dialdel"><a class="btn" href="#"><</a></td>
		        </tr>
	        </table>

          <input id="finance-description" class="span6" size="16" placeholder="Description" name="receiptdescription" type="text">
          <br />
          <label class="radio">
            <input type="radio" name="receiptmethod" id="visaRadio" value="Visa" checked>
            Visa
          </label>
          <label class="radio">
            <input type="radio" name="receiptmethod" id="cashRadio" value="Cash">
            Cash
          </label>
          <br />
          <button class="btn btn-primary" type="submit" type="button">Save</button>
        </form>
        <hr>
        <table class="table table-striped">
          {% for receipt in receipts %}
            <tr>
              <td class="receipt-value-col">
                <strong>{{ receipt.money }} &#8364;</strong>
                {% if receipt.method == 'Visa' %}
                <img src="/static/img/visa.png" class="receipt-method-icon" />
                {% elif receipt.method == 'Cash' %}
                <img src="/static/img/cash.png" class="receipt-method-icon" />
                {% endif %}
              </td>
              <td>
                {{ receipt.description }}<br /><span class="muted">{{ receipt.formattedDate() }}</span>
              </td>
              <td class="right-column">
                <form class="no-style-form" action="/deleteReceipt" method="POST">
                  <button class="btn" type="submit"><i class="icon-remove"></i></button>
                  <input type="hidden" name="receiptid" value="{{ receipt.key().id() }}">
                </form>
              </td>
            </tr>
          {% endfor %}
        </table>
      </div>

	    {# ------------- TODO -------------- #}
	    <div class="tab-pane{% if activetab == 'todo' %} active{% endif %}" id="todocontainer">
		    <form action="/insertTask" method="POST">
			    <div class="input-append">
				    <input style="width:80%" size="16" placeholder="Insert a new task" name="tasktext" type="text">
				    <button class="btn btn-success" type="submit">+</button>
			    </div>
		    </form>
		    <table class="table table-striped">
			    {% for task in tasks %}
			    <tr>
				    <td>
					    <strong>{{ task.text }}</strong>
				    </td>
				    <td class="right-column">
					    <form class="no-style-form" action="/doneTask" method="POST">
						    <button class="btn" type="submit"><i class="icon-ok"></i></button>
						    <input type="hidden" name="taskid" value="{{ task.key().id() }}">
					    </form>
				    </td>
			    </tr>
			    {% endfor %}
		    </table>
		    <table class="table">
			    {% for task in done %}
			    <tr>
				    <td class="muted">
					    {{ task.text }}
				    </td>
				    <td class="muted right-column">
					    Done {% if task.datedone %}{{ task.formattedDateDone() }}{% endif %}
				    </td>
			    </tr>
			    {% endfor %}
		    </table>
	    </div>

	    {# ------------- To buy -------------- #}
      <div class="tab-pane{% if activetab == 'tobuy' %} active{% endif %}" id="tobuycontainer">
        <form action="/insertWish" method="POST">
          <input class="input-block-level" size="16" placeholder="Thing to buy" name="wishdescription" type="text">
          <input class="input-block-level" size="16" placeholder="URL (optional)" name="wishreference" type="text">
          <button class="btn btn-primary" type="submit" type="button">Save</button>
        </form>
        <hr>
        <table class="table table-striped">
          {% for wish in wishes %}
          <tr>
            <td>
              {% if wish.reference %}
              <a href="{{ wish.reference }}" target="_blank">{{ wish.description }}</a>
              {% else %}
              {{ wish.description }}
              {% endif %}
            </td>
            <td class="right-column">
              <form class="no-style-form" action="/deleteWish" method="POST">
                <button class="btn" type="submit"><i class="icon-remove"></i></button>
                <input type="hidden" name="wishid" value="{{ wish.key().id() }}">
              </form>
            </td>
          </tr>
          {% endfor %}
        </table>
      </div>
    </div>
</div> <!-- /container -->

<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="/static/js/bootstrap.js"></script>
<script src="/static/js/front.js"></script>
<script>
  $('body').bind('touchmove', function(event) { event.preventDefault() }); // turns off
  $('body').unbind('touchmove'); // turns on
</script>

</body></html>